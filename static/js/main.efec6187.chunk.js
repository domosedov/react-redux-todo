(this["webpackJsonpmy-site"]=this["webpackJsonpmy-site"]||[]).push([[0],{24:function(e,t,n){e.exports=n(44)},29:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),c=n.n(r),l=(n(29),n(1)),i=n(4),u=Object(i.b)({name:"todo",initialState:[],reducers:{addTodo:function(e,t){e.push(t.payload)},toggleTodo:function(e,t){var n=e.find((function(e){return e.id===t.payload}));n.completed=!n.completed},deleteTodo:function(e,t){var n=e.findIndex((function(e){return e.id===t.payload}));n>=0&&e.splice(n,1)},editTodo:function(e,t){e.find((function(e){return e.id===t.payload.id})).text=t.payload.text}}}),d=u.reducer,m=u.actions,s=m.addTodo,f=m.toggleTodo,b=m.deleteTodo,_=m.editTodo,E=function(e){return e.todo},v=d,p=n(7),O=n(10),g=Object(a.memo)((function(e){var t=e.text,n=e.id,r=e.completed,c=e.handleToggle,i=e.handleDelete,u=Object(l.b)(),d=Object(a.useState)(t),m=Object(p.a)(d,2),s=m[0],f=m[1],b=Object(a.useState)(!1),E=Object(p.a)(b,2),v=E[0],g=E[1],h=Object(a.useRef)(null),S="todo__item";r&&(S+=" todo__item--completed"),Object(a.useEffect)((function(){v&&h.current.focus()}),[v]);var y=function(e){e.preventDefault(),u(_({id:n,text:s})),g(!1)};return o.a.createElement("li",{className:S},v?o.a.createElement("form",{className:"todo__edit",onSubmit:y},o.a.createElement("textarea",{className:"todo__text--change",value:s,onChange:function(e){return f(e.target.value)},onBlur:y,ref:h})):o.a.createElement("p",{className:"todo__text"},t),o.a.createElement("span",{className:"todo__actions"},o.a.createElement("button",{className:"todo__button todo__button--complete",onClick:function(){return c(n)}},o.a.createElement(O.b,null)),o.a.createElement("button",{className:"todo__button todo__button--edit",onClick:function(e){e.preventDefault(),g(!0)}},o.a.createElement(O.c,null)),o.a.createElement("button",{className:"todo__button todo__button--delete",onClick:function(){return i(n)}},o.a.createElement(O.a,null))))})),h={SHOW_ALL:"SHOW ALL",SHOW_COMPLETED:"SHOW COMPLETED",SHOW_ACTIVE:"SHOW ACTIVE"},S=Object(i.b)({name:"visibility",initialState:h.SHOW_ALL,reducers:{setFilter:function(e,t){return t.payload}}}),y=S.actions,N=S.reducer,j=y.setFilter,T=function(e){return e.visibilityFilter},x=N,k=function(e){var t=e.buttonText,n=e.active,a=e.clickHandler,r="todo__filter";return n&&(r+=" todo__filter--active"),o.a.createElement("button",{disabled:n,className:r,onClick:function(){return a()}},t)},C=function(e){var t=e.todos,n=Object(l.b)(),a=function(e){n(f(e))},r=function(e){n(b(e))},c=Object(l.c)(T),i=[],u=function(e){i.push(o.a.createElement(k,{key:e,buttonText:h[e],clickHandler:function(){return n(j(h[e]))},active:h[e]===c}))};for(var d in h)u(d);return t.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:"title"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447"),o.a.createElement("ul",{className:"todo__list"},t.map((function(e){return o.a.createElement(g,{key:e.id,id:e.id,completed:e.completed,text:e.text,handleToggle:a,handleDelete:r})}))),o.a.createElement("div",{className:"todo__filters"},i)):o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:"title"},"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442"),o.a.createElement("div",{className:"todo__filters"},i))},H=n(46),W=function(){var e=Object(l.b)(),t=Object(a.useState)(""),n=Object(p.a)(t,2),r=n[0],c=n[1];return o.a.createElement("form",{className:"todo__form",onSubmit:function(t){t.preventDefault(),r.trim()&&e(s({id:Object(H.a)(),text:r,completed:!1})),c("")}},o.a.createElement("textarea",{value:r,onChange:function(e){return c(e.target.value)},className:"todo__input"}),o.a.createElement("button",{type:"submit",className:"todo__add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))},w=n(3),L=function(){var e=Object(w.a)([E,T],(function(e,t){switch(t){case h.SHOW_ALL:return e;case h.SHOW_ACTIVE:return e.filter((function(e){return!e.completed}));case h.SHOW_COMPLETED:return e.filter((function(e){return e.completed}));default:throw new Error("No Filter!")}})),t=Object(l.c)((function(t){return e(t)}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{todos:t}),o.a.createElement(W,null))};var A=function(){return o.a.createElement("div",{className:"app"},o.a.createElement(L,null))},D=n(22),F=n.n(D),I=Object(i.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),B=I.actions,J=(B.increment,B.decrement,B.incrementByAmount,I.reducer),M=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),P=Object(i.a)({reducer:{counter:J,todo:v,visibilityFilter:x},preloadedState:M});P.subscribe(F()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(P.getState())})),1e3);var V=P;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(23);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:V},o.a.createElement(R.a,null,o.a.createElement(A,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.efec6187.chunk.js.map